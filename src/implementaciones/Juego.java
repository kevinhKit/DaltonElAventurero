package implementaciones;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Optional;

import clases.Ataque;
import clases.EnemigoAnimado;
import clases.Fondo;
import clases.Item;
import clases.JugadorAnimado;
import clases.Puntuacion;
import clases.Tile;
import javafx.animation.AnimationTimer;
import javafx.application.Application;
import javafx.event.EventHandler;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.canvas.Canvas;
import javafx.scene.canvas.GraphicsContext;
import javafx.scene.control.TextInputDialog;
import javafx.scene.image.Image;
import javafx.scene.input.KeyEvent;
import javafx.scene.paint.Color;
import javafx.stage.Stage;


public class Juego extends Application{
	private final String nombreArchivo = "puntuaciones.data";
	public static String Nombre;
	private int anchoventana = 1100 ;
	private int altoventana = 700 ;
	public static boolean derecha;
	public static boolean izquierda;
	public static boolean arriba;
	public static boolean abajo;
	public static boolean avance=false;
	public static boolean colisionObtaculoFrente=false;
	private boolean FinJuego=false;
	private Group root;
	private Scene escena;
	private Canvas lienzo;
	private GraphicsContext graficos;
	private JugadorAnimado jugadorAnimado;
	//private EnemigoAnimado enemigoAnimado;
	private Fondo fondo;
	private AnimationTimer animationTimer;
	private ArrayList<Tile> tiles;
	private ArrayList<Tile> tile2;
	private ArrayList<Item> items;
	private ArrayList<Item> item2;
	private ArrayList<Ataque> ataques;
	private ArrayList<EnemigoAnimado> enemigos;
	public static HashMap< String, Image> imagenes;
	private static ArrayList<Puntuacion> puntuaciones;
	private int enemigo[][]= {
			{0,0,1,0,0,0,0,0,0,2,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0}
	};
	private int escenarioItem[][]= {
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,1},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{1,0,0,0,0,0,0,0,0,0,0,0}
	};
	private int escenarioItem2[][]= {
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{2,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,2}
	};
	private int tilemap2[][] = {
			{0,0,0,0,1,0,2,0,3,0,2,0,3,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,1,0,1,0,0,1,0,0,1,0,0,1,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,1,0,1,0,0,1,0,0,1,0,0,1,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,1,0,1,0,0,1,0,0,1,0,0,1,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,1,0,1,0,0,1,0,0,1,0,0,1,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,1,0,1,0,0,1,0,0,1,0,0,1,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,1,0,1,0,0,1,0,0,1,0,0,1,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,1,0,1,0,0,1,0,0,1,0,0,1,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0}
//			{0,0,0,1,0,0,1,0,0,1,0,0,1,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},////////////////////////////////
//			{0,0,0,0,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},//////////////////////
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},///////////////////////
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},//////////////////////
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,1},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,3,0,0,0,0,0,3,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,0},
//			{0,0,0,0,0,0,0,0,0,0,0,0,0},
//			{0,0,0,1,0,0,1,0,0,1,0,0,0},/////////////////////////////
	};
	private int tilemaps[][] = {
	{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
	{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3}

};
//	private int tilemaps[][] = {
//			{3,1,1,13,13,13,13,13,13,13,13,13,13,13,13,13,13,4,4,4,4,3},////////////////
//			{3,3,3,13,13,13,13,13,3,13,13,13,13,13,13,13,13,4,4,4,4,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,4,4,4,4,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,4,4,4,4,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,8,8,8,8,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,8,8,8,8,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,7,7,7,7,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},/////////////////////////////////////
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,3,3,3,3},
//			{3,1,1,3,13,13,7,13,13,7,7,13,13,7,7,13,13,11,11,11,11,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,11,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,7,7,13,13,13,13,13,7,7,13,13,7,7,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,0,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,0,0,0,3,3,13,13,13,13,13,13,13,3,3,13,13,13,13,13,3},///////////////////////////////////////
//			{3,0,0,0,0,0,3,13,13,13,13,13,13,13,3,3,13,13,13,13,13,3},
//			{3,3,0,0,0,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,0,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,3,3,13,7,7,7,13,13,13,13,7,7,13,13,7,7,13,13,3},
//			{3,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13},
//			{13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13},
//			{3,3,3,3,7,7,13,13,13,7,7,13,13,13,13,7,7,7,13,13,13,3},
//			{3,1,1,3,0,0,4,4,4,0,0,4,4,4,4,0,0,0,4,4,4,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,7,7,13,13,7,7,13,7,7,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},/////////////////////////////////////////
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,7,13,13,13,7,7,13,7,7,13,13,13,7,7,13,3},
//			{3,1,1,3,3,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,13,13,13,13,3,0,3,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,13,13,3,0,0,3,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,0,3,3,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,0,0,3,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,0,0,3,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,0,0,0,3,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,0,0,0,3,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,3},/////////////////////////////////////
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,3,3,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,3,3,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,3,3,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,13,13,3,0,0,0,3,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,13,13,13,13,3,0,0,3,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,13,13,13,13,13,13,3,0,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,3},/////////////
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,3,2,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,2,3,3},
//			{3,3,2,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,2,3,3},
//			{3,3,2,1,1,1,7,7,7,1,1,1,1,7,7,7,1,1,1,2,3,3},
//			{3,3,2,1,1,1,1,7,7,7,7,7,7,7,7,1,1,1,1,2,3,3},/////////////////////////////
//			{3,3,2,1,1,1,1,1,7,7,7,7,7,7,1,1,1,1,1,2,3,3},
//			{3,3,2,1,1,1,1,1,1,1,7,7,1,1,1,1,1,1,1,2,3,3},
//			{3,3,2,2,2,2,1,1,1,1,7,7,1,1,1,1,2,2,2,2,3,3},
//			{3,3,3,3,3,2,1,1,1,1,7,7,1,1,1,1,2,3,3,3,3,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},////////////////////////////
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,3},
//			{3,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,3},//////////////////////////
//			{3,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,3},
//			{3,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,19,19,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,19,19,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},////////////////////
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},//////////////////////
//			
//	};
//	private int tilemaps[][] = {
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,3,3,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,3,13,13,13,13,13,3,3,3,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},				
//	};
	
//	  	private int tilemaps[][] = {
//			{3,1,1,13,13,13,13,13,13,13,13,13,13,13,13,13,13,4,4,4,4,3},
//			{3,3,3,13,13,13,13,13,3,13,13,13,13,13,13,13,13,4,4,4,4,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,4,4,4,4,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,4,4,4,4,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,8,8,8,8,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,8,8,8,8,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,7,7,7,7,3},
//			{3,13,13,3,13,13,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,13,13,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,3,3,3,3},
//			{3,1,1,3,13,13,7,13,13,7,7,13,13,7,7,13,13,11,11,11,11,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,11,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,7,7,13,13,13,13,13,7,7,13,13,7,7,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,0,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,0,0,0,3,3,13,13,13,13,13,13,13,3,3,13,13,13,13,13,3},
//			{3,0,0,0,0,0,3,13,13,13,13,13,13,13,3,3,13,13,13,13,13,3},
//			{3,3,0,0,0,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,0,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,3,3,3,3,13,7,7,7,13,13,13,13,7,7,13,13,7,7,13,13,3},
//			{3,3,3,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13},
//			{13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13},
//			{3,3,3,3,7,7,13,13,13,7,7,13,13,13,13,7,7,7,13,13,13,3},
//			{3,1,1,3,0,0,4,4,4,0,0,4,4,4,4,0,0,0,4,4,4,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,7,7,13,13,7,7,13,7,7,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3},
//			{3,1,1,3,13,13,7,13,13,13,7,7,13,7,7,13,13,13,7,7,13,3},
//			{3,1,1,3,3,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,13,13,13,13,3,0,3,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,13,13,3,0,0,3,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,0,3,3,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,0,0,3,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,0,0,3,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,0,0,0,3,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,0,0,0,3,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,3,3,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,3,0,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,3,0,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,3,0,0,0,3,1,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,3,3,1,1,1,3},
//			{3,1,1,3,0,0,0,3,13,13,13,13,13,3,0,0,0,3,3,1,1,3},
//			{3,1,1,3,0,0,3,13,13,13,13,13,13,13,3,0,0,0,3,1,1,3},
//			{3,1,1,3,0,3,13,13,13,13,13,13,13,13,13,3,0,0,3,1,1,3},
//			{3,1,1,3,3,13,13,13,13,13,13,13,13,13,13,13,3,0,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,3,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,1,1,3,13,13,13,13,13,13,13,13,13,13,13,13,3,1,1,1,1,3},
//			{3,3,2,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,2,3,3},
//			{3,3,2,1,1,1,7,7,1,1,1,1,1,1,7,7,1,1,1,2,3,3},
//			{3,3,2,1,1,1,7,7,7,1,1,1,1,7,7,7,1,1,1,2,3,3},
//			{3,3,2,1,1,1,1,7,7,7,7,7,7,7,7,1,1,1,1,2,3,3},
//			{3,3,2,1,1,1,1,1,7,7,7,7,7,7,1,1,1,1,1,2,3,3},
//			{3,3,2,1,1,1,1,1,1,1,7,7,1,1,1,1,1,1,1,2,3,3},
//			{3,3,2,2,2,2,1,1,1,1,7,7,1,1,1,1,2,2,2,2,3,3},
//			{3,3,3,3,3,2,1,1,1,1,7,7,1,1,1,1,2,3,3,3,3,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3},
//			{3,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,3},
//			{3,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,3},
//			{3,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,3},
//			{3,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,19,19,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,19,19,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},
//			{3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3},	
//	};
	 
	public static void main(String[] args) {
		launch();
	}
	@Override
	public void start(Stage ventana) throws Exception {
		inicializarComponentes();
		gestionEvento();
		ventana.setScene(escena);
		ventana.setTitle("DALTON EL AVENTURERO");
		ventana.show();
		cicloJuego();
	}
	public void inicializarComponentes() {
		guardarNombre();
		puntuaciones = new ArrayList<Puntuacion>();
		root = new Group();
		escena = new Scene( root , anchoventana , altoventana);
		lienzo = new Canvas( anchoventana, altoventana);
		root.getChildren().add(lienzo);
		graficos = lienzo.getGraphicsContext2D();//graficos.setGlobalAlpha(0.6); OPACIDAD DE INTERCEPCION ENTRE IMAGENES
		jugadorAnimado = new JugadorAnimado( 180 , 600 , 3 , "personaje" , 3 , "descanso2" );
		//enemigoAnimado = new EnemigoAnimado(100 , 500 , 2 , "rey" , 1 , "abajo" );
		fondo = new Fondo( 50 , 0 , 1 , "fuego" , "fuego2");
		imagenes = new HashMap< String , Image>();
		ataques = new ArrayList<Ataque>();
		cargarImagenes();
		inicializarObjetosJuego();
	}
	public void inicializarObjetosJuego() {
		tiles = new ArrayList<Tile>();
		for ( int i = 0 ; i < tilemaps.length ; i++ ) {
			for( int j = 0 ; j < tilemaps[i].length ; j++ ) {
				if(tilemaps[i][j]!=0) {
					this.tiles.add(new Tile ( tilemaps[i][j], j*50 ,i*50 , 2, "tile", 50, 50));//-5000					
				}
			}
		}
		tile2 = new ArrayList<Tile>();
		for ( int i = 0 ; i < tilemap2.length ; i++ ) {
			for( int j = 0 ; j < tilemap2[i].length ; j++ ) {
				if(tilemap2[i][j]!=0) {
					this.tile2.add(new Tile ( tilemap2[i][j], j*80 ,i*100 , 2, "tile2", 80, 100));//-5000
				}
			}
		}
		items = new ArrayList<Item>();
		for ( int i = 0 ; i < escenarioItem.length ; i++ ) {
			for( int j = 0 ; j < escenarioItem[i].length ; j++ ) {
				if(escenarioItem[i][j]!=0) {
						this.items.add(new Item ( escenarioItem[i][j],94 + j*80 ,i*100 , 4, "vidat", 0, 1));// 976 , 103 
				}
			}
		}
		item2 = new ArrayList<Item>();
		for ( int i = 0 ; i < escenarioItem2.length ; i++ ) {
			for( int j = 0 ; j < escenarioItem2[i].length ; j++ ) {
				if(escenarioItem2[i][j]!=0) {
						this.item2.add(new Item ( escenarioItem2[i][j],94 + j*80 ,i*100 , 4, "escudo", 0, 1));// 976 , 103 
				}
			}
		}
		enemigos = new ArrayList<EnemigoAnimado>();
		for ( int i = 0 ; i < enemigo.length ; i++ ) {
			for( int j = 0 ; j < enemigo[i].length ; j++ ) {
				if(enemigo[i][j]==1) {
						this.enemigos.add(new EnemigoAnimado (j*100 , i*110 , 2 , "rey" , 1 , "abajo" ));// 976 , 103 
				}
				if(enemigo[i][j]==2) {
					this.enemigos.add(new EnemigoAnimado (j*100 , i*110-200 , 2 , "yaser" , 1 , "arriba" ));// 976 , 103 
			}
			}
		}
	}
	public void cargarImagenes() {
		imagenes.put( "fuego" , new Image("LIENZO1.png"));
		imagenes.put( "fuego2" , new Image("LIENZO2.png"));
		imagenes.put( "personaje", new Image("Dalton.png"));
		imagenes.put("tile", new Image("tilemaps.png"));
		imagenes.put( "tile2", new Image("arboles.png"));
		imagenes.put( "bola" , new Image("bola.png"));
		imagenes.put( "vidat", new Image("corazon.png"));
		imagenes.put( "rey", new Image("rey.png"));
		imagenes.put( "escudo", new Image("proteccion.png"));
		imagenes.put( "yaser", new Image("yaser.png"));
	}
	public void gestionEvento() {
		escena.setOnKeyPressed( new EventHandler<KeyEvent>() {
			@Override
			public void handle(KeyEvent evento) {
				switch (evento.getCode().toString()) {
				case "RIGHT":
					derecha = true;
					jugadorAnimado.setAnimacionActual("derecha");
					break;
				case "LEFT":
					izquierda = true;
					jugadorAnimado.setAnimacionActual("izquierda");
					//enemigoAnimado.setAnimacionActual("izquierda");
					break;
				case "UP":
					arriba = true;
					jugadorAnimado.setAnimacionActual("arriba");
					//enemigoAnimado.setAnimacionActual("arriba");
					break;
				case "DOWN":
					abajo = true;
					jugadorAnimado.setAnimacionActual("abajo");
				//	enemigoAnimado.setAnimacionActual("abajo");
					break;
				case "SPACE"://ESCAPE
					ataques.add( new Ataque(jugadorAnimado.getX()+50,
							jugadorAnimado.getY(),
							3,
							"bola",
							20,
							1));
					break;
//				case "V":
//					jugadorAnimado.setVelocidad(6);
//					//DESDE AQUI ACCEDO A LA VELOCIDAD DEL USUARIO Y AL TIEMPO DE DURACION QUE CAMBIAN ESTRE FRAME
//					break;
				}	
			}		
		});
		escena.setOnKeyReleased( new EventHandler<KeyEvent>() {
			@Override
			public void handle(KeyEvent evento) {
				switch (evento.getCode().toString()) {
				case "RIGHT":
					derecha = false;
					break;
				case "LEFT":
					izquierda = false;
					break;
				case "UP":
					arriba = false;
					break;
				case "DOWN":
					abajo = false;
					break;
				case "SPACE":
					jugadorAnimado.setVelocidad(3);
					break;
				}	
			}
			
		});
	}
	public void cicloJuego() {
		long tiempoInicial = System.nanoTime();
			animationTimer = new AnimationTimer() {
					@Override
					public void handle(long tiempoActual) {
							double t = ( tiempoActual - tiempoInicial ) / 1000000000.0 ;
							actualizarEstado(t);
							pintar();
					}	
			};							
			animationTimer.start();
	}
	public void actualizarEstado(double t) {
		if(jugadorAnimado.getVidas()==0) {
			guardarPuntuacionesJugador();
		}
		jugadorAnimado.verificarEstado(tiles, tile2);
		fondo.mover(jugadorAnimado.getY());
		jugadorAnimado.verificarColisionesItem(items);
		jugadorAnimado.verificarColisionesItem(item2);
		jugadorAnimado.verificarColisionesTile(tiles);
				//jugadorAnimado.verificarColisionEnemigoAnimado(enemigoAnimado);
		jugadorAnimado.verificarColisionEnemigoAnimado2(enemigos);
		jugadorAnimado.verificarColisionesTile(tile2);
		jugadorAnimado.calcularFrame(t);
		for(int i = 0 ; i < enemigos.size() ; i++ ) {
			enemigos.get(i).calcularFrame(t);
		}
			//		enemigoAnimado.calcularFrame(t);
			//		enemigoAnimado.verificarColisionesTile(tiles);
			//		enemigoAnimado.verificarColisionesTile(tile2);
		for(int i = 0 ; i < enemigos.size() ; i++ ) {
			enemigos.get(i).verificarColisionesTile(tiles);
			enemigos.get(i).verificarColisionesTile(tile2);
		}
		for(int i = 0 ; i < enemigos.size() ; i++ ) {
			enemigos.get(i).verificarColisionesTile(tile2);
		}
			//		for(int i = 0 ; i < ataques.size() ; i++ ) {
			//			ataques.get(i).verificarColisionesEnemigoAnimado(enemigoAnimado,i,ataques);
			//		}
		for(int i = 0 ; i < ataques.size() ; i++ ) {
			ataques.get(i).verificarColisionesEnemigoAnimado2(enemigos,i,ataques);
		}
		jugadorAnimado.mover(tiles.get(tiles.size()-1).getY());
			//		enemigoAnimado.perseguir(jugadorAnimado);
			//		enemigoAnimado.mover(0);
		for(int i = 0 ; i < enemigos.size() ; i++ ) {
			enemigos.get(i).perseguir(jugadorAnimado);
			enemigos.get(i).mover(0);
		}
		for(int i = 0 ; i < tiles.size() ; i++ ) {
			int u=(tiles.size()-14);
				tiles.get(i).mover(jugadorAnimado.getY());
			if(2<tiles.size()) {
				if(tiles.get(i).getY()<-80) {
					tiles.remove(i);
				}
			}

			if(2<tiles.size()) {
				int mas=50;
				if(tiles.get(u).getY()<600+mas) {
					this.tiles.add(new Tile ( 3, 0 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 50 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 100 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 150 ,650 +mas, 2, "tile", 50, 50));					
					this.tiles.add(new Tile ( 13, 100 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 150 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 200 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 250 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 300 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 350 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 400 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 450 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 500 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 550 ,650 +mas, 2, "tile", 50, 50));					
					this.tiles.add(new Tile ( 13, 600 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 650 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 700 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 750 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 800 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 850 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 900 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 950 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 13, 1000 ,650 +mas, 2, "tile", 50, 50));
					this.tiles.add(new Tile ( 3, 1050 ,650 +mas, 2, "tile", 50, 50));
				}
			}
		}
		for(int i = 0 ; i < tile2.size() ; i++ ) {
			int u=(tile2.size()-1);
				tile2.get(i).mover(jugadorAnimado.getY());
			if(2<tile2.size()) {
				if(tile2.get(i).getY()<-80) {
					tile2.remove(i);
				}
			}

			if(2<tile2.size()) {
				if(tile2.get(u).getY()+200<=700) {
					this.tile2.add(new Tile ( 1, 80 ,720 , 2, "tile2", 80, 100));
					this.tile2.add(new Tile ( 1, 240 ,720 , 2, "tile2", 80, 100));
					this.tile2.add(new Tile ( 1, 480 ,720 , 2, "tile2", 80, 100));
					this.tile2.add(new Tile ( 1, 720 ,720 , 2, "tile2", 80, 100));
					this.tile2.add(new Tile ( 1, 960 ,720 , 2, "tile2", 80, 100));

				}
			}
			if(enemigos.size()==0) {

					this.enemigos.add(new EnemigoAnimado (100 , -800 , 2 , "rey" , 1 , "abajo" ));
					this.enemigos.add(new EnemigoAnimado (300 , -200 , 2 , "yaser" , 1 , "abajo" ));

//				if(enemigo[i][j]==2) {
//					this.enemigos.add(new EnemigoAnimado (300 , 0 , 2 , "yaser" , 1 , "abajo" ));
//				}
			}
			
			if(tile2.get(u).getY()<=700) {
			}
		}
		for(int i = 0 ; i < tile2.size() ; i++ ) {
			tile2.get(i).mover(jugadorAnimado.getY());
		}
		for(int i = 0 ; i < items.size() ; i++ ) {
			items.get(i).mover(jugadorAnimado.getY());
		}
		for(int i = 0 ; i < item2.size() ; i++ ) {
			item2.get(i).mover(jugadorAnimado.getY());
		}
		for(int i = 0 ; i < ataques.size() ; i++ ) {
			ataques.get(i).mover(jugadorAnimado.getY());
			if(ataques.get(i).getY()<-30) {
				ataques.remove(i);
			}
		}
	}
	public void pintar() {
		fondo.pintar(graficos);
		for(int i = 0 ; i < tiles.size() ; i++ ) {
			tiles.get(i).pintar(graficos);
		}
		for(int i = 0 ; i < tile2.size() ; i++ ) {
			tile2.get(i).pintar(graficos);
		}
		for(int i = 0 ; i < items.size() ; i++ ) {
			items.get(i).pintar(graficos);
		}
		for(int i = 0 ; i < item2.size() ; i++ ) {
			item2.get(i).pintar(graficos);
		}

		for(int i = 0 ; i < ataques.size() ; i++ ) {
			ataques.get(i).pintar(graficos);
		}
								//		enemigoAnimado.pintar(graficos);
		for(int i = 0 ; i < enemigos.size() ; i++ ) {
			enemigos.get(i).pintar(graficos);
		}
		jugadorAnimado.pintar(graficos);
		graficos.setFill(Color.AQUA);
		graficos.fillRect(7, 10, 100, 15);
		graficos.setFill(Color.BLACK);
		graficos.fillText("VIDAS : " + jugadorAnimado.getVidas(), 32, 22);
		graficos.setFill(Color.AZURE);
		graficos.fillRect(110, 10, 150, 15);
		graficos.setFill(Color.BLACK);
		graficos.fillText("PUNTUACION : " + JugadorAnimado.puntacion, 135, 22);
//		graficos.setFill(Color.CORAL);
//		graficos.fillRect(7, 32, 180, 15);//263+300+300, 10, 180, 15
//		graficos.setFill(Color.BLACK);
//		graficos.fillText("JUGADOR : " + Juego.nOMBRE, 32, 44);//288+300+300, 22
	}
	public void guardarNombre() {
		TextInputDialog lec = new TextInputDialog();
		lec.setTitle("Bienvenido a Dalton El Aventurero (2D)");
		lec.setHeaderText("Nombre De Jugador");
		lec.setContentText("Ingrese un nombre: ");
		Optional<String> tex = lec.showAndWait();
		Nombre=tex.get();
		
	}
	public void leerPuntuacionesJugador() {
		
	}

	private static void leerPuntuaciones() {
		String linea="";
		String informacion="";
		try {
			BufferedReader flujo = new BufferedReader(new FileReader("puntuaciones.csv"));
			while ((linea=flujo.readLine())!=null) {
				String campo[]=linea.split(",");
				puntuaciones.add(new Puntuacion(campo[0],Integer.parseInt(campo[1])));
				informacion+=campo[0]+":"+campo[1]+"\n";
			}
			flujo.close();
		}
		catch (FileNotFoundException e) {
			System.out.println("no hay puntuaciones");
		}catch (IOException e) {
			System.out.println(".");
		}
		//NOSE PUEDE OTRA LIBRERIA QUE NO SEA JAVAFX
		//JOptionPane.showMessageDialog(null, "puntuacion:"+"\n"+informacion);
		
	}
	
	public static void guardarPuntuacionesJugador() {
		Puntuacion p = new Puntuacion(Nombre,JugadorAnimado.puntacion);
		puntuaciones.add(p);
		try {
			BufferedWriter archivo=new BufferedWriter(new FileWriter("puntuaciones.csv",true));
			archivo.write(p.toString());
			archivo.flush();
			archivo.close();
		}catch (IOException e) {
			e.printStackTrace();
		}
		
		
		
		
		leerPuntuaciones();
		
		
		
		System.exit(0);
	}
	

}
//DISPAROS ENCAPSULAR COORDENA X INCREMENTAR COORDENADA Y CADA 0.25 SEGUNDOS
//MOVIMIENTOS DE ENEMIGOS COMPARAR COORDENADA DEL PERSONADE CON LA DEL ENEMIGO
//condicionan compara de corrdenadas para pintar o invertir el orden de pintado.
//movimiento escenario solo en el centro